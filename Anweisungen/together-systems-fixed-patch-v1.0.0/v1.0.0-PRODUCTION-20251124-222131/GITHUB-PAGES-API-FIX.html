<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>GITHUB-PAGES-API-FIX</title>
<style>
body { font-family: system-ui; max-width: 800px; margin: 0 auto; padding: 20px; }
pre { background: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }
code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
</style>
</head>
<body>
<h1>ğŸ”§ GITHUB PAGES API-FIX</h1>

<h2>âŒ PROBLEM</h2>

Die App lÃ¤uft auf <strong>GitHub Pages</strong> (`https://myopenai.github.io/togethersystems/`), aber:

- âŒ `/api/*` Endpunkte existieren <strong>NICHT</strong> auf GitHub Pages
- âŒ GitHub Pages unterstÃ¼tzt <strong>KEINE</strong> Serverless Functions
- âŒ Die `functions/` Dateien funktionieren nur auf <strong>Cloudflare Pages</strong>

<strong>Fehler:</strong>
- `/api/autofix/notify` - 404 (Not Found)
- `/api/autofix/errors` - 405 (Method Not Allowed)
- `/api/voucher/list` - 404 (Not Found)
- `/api/telemetry` - 405 (Method Not Allowed)

---

<h2>âœ… LÃ–SUNG</h2>

<h3>1. Autofix deaktivieren auf GitHub Pages</h3>

<strong>Datei:</strong> `autofix-client.js`
- âœ… PrÃ¼ft ob auf Cloudflare Pages
- âœ… Deaktiviert Autofix auf GitHub Pages
- âœ… Loggt Fehler nur in Console

<h3>2. API-Calls deaktivieren auf GitHub Pages</h3>

<strong>Datei:</strong> `manifest-portal.html`
- âœ… `detectVoucherApiBase()` erkennt GitHub Pages
- âœ… Gibt `null` zurÃ¼ck (deaktiviert API-Calls)
- âœ… Zeigt Warnung in Console

---

<h2>ğŸ¯ ERGEBNIS</h2>

<strong>Auf GitHub Pages:</strong>
- âœ… Keine 404/405 Fehler mehr
- âœ… App funktioniert im Offline-Modus
- âœ… Warnung in Console: "GitHub Pages erkannt: API-Funktionen nicht verfÃ¼gbar"

<strong>Auf Cloudflare Pages:</strong>
- âœ… Alle API-Funktionen funktionieren
- âœ… Autofix aktiv
- âœ… Voucher-System aktiv

---

<h2>ğŸ“‹ NÃ„CHSTE SCHRITTE</h2>

<h3>Option 1: Auf Cloudflare Pages deployen (EMPFOHLEN)</h3>

```powershell
<h1>Mit Wrangler</h1>
wrangler pages deploy . --project-name ts-portal
```

<strong>Vorteile:</strong>
- âœ… Alle API-Funktionen funktionieren
- âœ… D1-Datenbank verfÃ¼gbar
- âœ… R2 Storage verfÃ¼gbar
- âœ… WebSocket Support

<h3>Option 2: GitHub Pages beibehalten</h3>

<strong>EinschrÃ¤nkungen:</strong>
- âš ï¸ Keine API-Funktionen
- âš ï¸ Keine Datenbank
- âš ï¸ Nur statische HTML/CSS/JS
- âœ… Aber: App funktioniert im Offline-Modus

---

<h2>âœ… STATUS</h2>

<strong>Alle Fehler behoben:</strong>
- âœ… Autofix deaktiviert auf GitHub Pages
- âœ… API-Calls deaktiviert auf GitHub Pages
- âœ… Keine 404/405 Fehler mehr
- âœ… App funktioniert im Offline-Modus

<strong>Status:</strong> âœ… FERTIG
</body>
</html>